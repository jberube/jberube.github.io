(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),o=a.n(c),i=a(25),s=a(11),h=a(55),u=a(56),l=a(26),m={searchTerm:window?window.location.hash.replace(/^#\/?/,""):"",images:[],currentPage:1,fetching:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_SEARCH_IMAGES":return Object(l.a)({},m,{searchTerm:t.searchTerm});case"DONE_SEARCH_IMAGES":return Object(l.a)({},e,{fetching:!1,images:e.images.concat(t.images),currentPage:t.pageNumber});case"START_FETCH_NEXT_PAGE":return Object(l.a)({},e,{fetching:!0,currentPage:t.pageNumber});default:return e}},d=[h.a],g=[s.applyMiddleware.apply(void 0,d)],f="development"===Object({NODE_ENV:"production",PUBLIC_URL:"/chursj"})?u.composeWithDevTools.apply(void 0,g):s.compose.apply(void 0,g),b=Object(s.createStore)(Object(s.combineReducers)({images:p}),void 0,f),E=(a(73),a(14)),v=a(15),O=a(17),j=a(16),w=a(18),T=a(6),_=a(134),y=a(133),k=a(57),S=a.n(k),N=function(e,t){return S.a.get("https://api.flickr.com/services/rest/",{params:{method:"flickr.photos.search",api_key:"b75a009cee4005c8157be53006653f82",tags:e,sort:"date-posted-desc",privacy_filter:"1",media:"photos",per_page:"6",page:t,format:"json",nojsoncallback:"1",extras:"url_q, url_o"}}).then(function(e){var t=e.data,a=t.stat,n=t.photos;return"ok"!==a?(console.log("ERROR"),[]):n.photo.map(function(e){return{id:e.id,title:e.title,thumbnail:{url:e.url_q,width:e.width_q,height:e.height_q},original:{url:e.url_o,width:e.width_o,height:e.height_o}}})}).then(function(e){return function(e,t){return{type:"DONE_SEARCH_IMAGES",pageNumber:e,images:t}}(t,e)},function(t){throw console.error(t),new Error("failed to retreive photos for searchTerm ".concat(e))})},A=function(e){return{type:"START_FETCH_NEXT_PAGE",pageNumber:e}},R=(a(94),a(24)),C=a.n(R),P=(a(97),function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={searchTerm:e.searchTerm},C()(Object(T.a)(Object(T.a)(a))),a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"handleKeyPressed",value:function(e){"Enter"===e.key&&this.props.onSearch(this.state.searchTerm)}},{key:"handleChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"search-bar-container"},r.a.createElement("input",{type:"text",placeholder:"keyword",onKeyPress:this.handleKeyPressed,onChange:this.handleChange,value:this.props.searchTerm}))}}]),t}(n.Component)),M=(a(99),a(58)),x=a.n(M),F=a(135),G=function(e){function t(){var e;return Object(E.a)(this,t),e=Object(O.a)(this,Object(j.a)(t).call(this)),C()(Object(T.a)(Object(T.a)(e))),e}return Object(w.a)(t,e),Object(v.a)(t,[{key:"loadMore",value:function(){var e=this.props;(0,e.onFetchPage)(e.searchTerm,e.pageNumber+1)}},{key:"render",value:function(){var e=this.props.images;return r.a.createElement("div",{className:"photo-galery-container"},r.a.createElement(x.a,{dataLength:e.length,next:this.loadMore,hasMore:!0,loader:r.a.createElement("p",null,"...")},e.map(function(e){return r.a.createElement(y.a,{key:e.id,xs:6,sm:4,md:3,lg:2},r.a.createElement("img",{src:e.thumbnail.url,alt:e.title}))})),e.length?r.a.createElement(F.a,{onClick:this.loadMore},"more..."):null)}}]),t}(n.Component),H=function(e){function t(){var e;return Object(E.a)(this,t),e=Object(O.a)(this,Object(j.a)(t).call(this)),window.onhashchange=function(e){if(e.newURL!==e.oldURL){var t=window.location.hash.replace(/^#\/?/,"");this.props.onSearch(t)}}.bind(Object(T.a)(Object(T.a)(e))),e}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.images,a=e.searchTerm,n=e.pageNumber,c=e.onSearch,o=e.onFetchPage;return r.a.createElement("div",{className:"App"},r.a.createElement(_.a,null,r.a.createElement(y.a,{xs:12},r.a.createElement(P,{searchTerm:a,onSearch:c}))),r.a.createElement(_.a,null,r.a.createElement(G,{images:t,searchTerm:a,pageNumber:n,onFetchPage:o})))}}]),t}(n.Component),I=Object(i.b)(function(e){return{images:e.images.images,searchTerm:e.images.searchTerm,pageNumber:e.images.currentPage}},function(e,t){return{onSearch:function(t){return e(function(e){return function(t){t(function(e){return{type:"START_SEARCH_IMAGES",searchTerm:e}}(e)),t(A(1)),N(e,1).then(t)}}(t))},onFetchPage:function(t,a){return e(function(e,t){return function(a){a(A(t)),N(e,t).then(a)}}(t,a))}}})(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:b},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},64:function(e,t,a){e.exports=a(132)},73:function(e,t,a){},94:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[64,2,1]]]);
//# sourceMappingURL=main.f4f5258d.chunk.js.map